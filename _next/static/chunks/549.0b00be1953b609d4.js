"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[549],{787:(t,e,a)=>{var r=a(11470),n=a(46540);t.exports=function(t,e){function a(a,i){return r.coerce(t,e,n,a,i)}a("treemapcolorway",e.colorway),a("extendtreemapcolors")}},2048:(t,e,a)=>{var r=a(11470),n=a(37615),i=a(9737),o=a(68491).N,s=a(58293).handleText,l=a(23300).TEXTPAD,c=a(36760).handleMarkerDefaults,d=a(2927),h=d.hasColorscale,p=d.handleDefaults;t.exports=function(t,e,a,d){function u(a,i){return r.coerce(t,e,n,a,i)}var f=u("labels"),x=u("parents");if(!f||!f.length||!x||!x.length){e.visible=!1;return}var m=u("values");u(m&&m.length?"branchvalues":"count"),u("level"),u("maxdepth"),"squarify"===u("tiling.packing")&&u("tiling.squarifyratio"),u("tiling.flip"),u("tiling.pad");var y=u("text");u("texttemplate"),e.texttemplate||u("textinfo",r.isArrayOrTypedArray(y)?"text+label":"label"),u("hovertext"),u("hovertemplate");var v=u("pathbar.visible");s(t,e,d,u,"auto",{hasPathbar:v,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("textposition");var g=-1!==e.textposition.indexOf("bottom");c(t,e,d,u),(e._hasColorscale=h(t,"marker","colors")||(t.marker||{}).coloraxis)?p(t,e,d,u,{prefix:"marker.",cLetter:"c"}):u("marker.depthfade",!(e.marker.colors||[]).length);var b=2*e.textfont.size;u("marker.pad.t",g?b/4:b),u("marker.pad.l",b/4),u("marker.pad.r",b/4),u("marker.pad.b",g?b:b/4),u("marker.cornerradius"),e._hovered={marker:{line:{width:2,color:i.contrast(d.paper_bgcolor)}}},v&&(u("pathbar.thickness",e.pathbar.textfont.size+2*l),u("pathbar.side"),u("pathbar.edgeshape")),u("sort"),u("root.color"),o(e,d,u),e._length=null}},3926:(t,e,a)=>{t.exports={moduleType:"trace",name:"treemap",basePlotModule:a(25207),categories:[],animatable:!0,attributes:a(37615),layoutAttributes:a(46540),supplyDefaults:a(2048),supplyLayoutDefaults:a(787),calc:a(92875)._,crossTraceCalc:a(92875).t,plot:a(8153),style:a(99451).style,colorbar:a(34593),meta:{description:"Visualize hierarchal data from leaves (and/or outer branches) towards root with rectangles. The treemap sectors are determined by the entries in *labels* or *ids* and in *parents*."}}},4287:(t,e,a)=>{var r=a(27125),n=a(11470),i=a(76588),o=a(82184),s=a(65612),l=a(99451).styleOne,c=a(27547),d=a(19223),h=a(52404),p=a(81881).formatSliceLabel;t.exports=function(t,e,a,u,f){var x=f.width,m=f.height,y=f.viewX,v=f.viewY,g=f.pathSlice,b=f.toMoveInsideSlice,T=f.strTransform,M=f.hasTransition,_=f.handleSlicesExit,w=f.makeUpdateSliceInterpolator,k=f.makeUpdateTextInterpolator,S=f.prevEntry,L=t._context.staticPlot,I=t._fullLayout,X=e[0].trace,Y=-1!==X.textposition.indexOf("left"),P=-1!==X.textposition.indexOf("right"),A=-1!==X.textposition.indexOf("bottom"),O=!A&&!X.marker.pad.t||A&&!X.marker.pad.b,D=s(a,[x,m],{packing:X.tiling.packing,squarifyratio:X.tiling.squarifyratio,flipX:X.tiling.flip.indexOf("x")>-1,flipY:X.tiling.flip.indexOf("y")>-1,pad:{inner:X.tiling.pad,top:X.marker.pad.t,left:X.marker.pad.l,right:X.marker.pad.r,bottom:X.marker.pad.b}}).descendants(),C=1/0,z=-1/0;D.forEach(function(t){var e=t.depth;e>=X._maxDepth?(t.x0=t.x1=(t.x0+t.x1)/2,t.y0=t.y1=(t.y0+t.y1)/2):(C=Math.min(C,e),z=Math.max(z,e))}),u=u.data(D,d.getPtId),X._maxVisibleLayers=isFinite(z)?z-C+1:0,u.enter().append("g").classed("slice",!0),_(u,!1,{},[x,m],g),u.order();var B=null;if(M&&S){var R=d.getPtId(S);u.each(function(t){null===B&&d.getPtId(t)===R&&(B={x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1})})}var E=function(){return B||{x0:0,x1:x,y0:0,y1:m}},q=u;return M&&(q=q.transition().each("end",function(){var e=r.select(this);d.setSliceCursor(e,t,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),q.each(function(s){var u=d.isHeader(s,X);s._x0=y(s.x0),s._x1=y(s.x1),s._y0=v(s.y0),s._y1=v(s.y1),s._hoverX=y(s.x1-X.marker.pad.r),s._hoverY=A?v(s.y1-X.marker.pad.b/2):v(s.y0+X.marker.pad.t/2);var f=r.select(this),_=n.ensureSingle(f,"path","surface",function(t){t.style("pointer-events",L?"none":"all")});M?_.transition().attrTween("d",function(t){var e=w(t,!1,E(),[x,m]);return function(t){return g(e(t))}}):_.attr("d",g),f.call(h,a,t,e,{styleOne:l,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(d.setSliceCursor,t,{isTransitioning:t._transitioning}),_.call(l,s,X,t,{hovered:!1}),s.x0===s.x1||s.y0===s.y1?s._text="":u?s._text=O?"":d.getPtLabel(s)||"":s._text=p(s,a,X,e,I)||"";var S=n.ensureSingle(f,"g","slicetext"),D=n.ensureSingle(S,"text","",function(t){t.attr("data-notex",1)}),C=n.ensureUniformFontSize(t,d.determineTextFont(X,s,I.font)),z=s._text||" ",B=u&&-1===z.indexOf("<br>");D.text(z).classed("slicetext",!0).attr("text-anchor",P?"end":Y||B?"start":"middle").call(i.font,C).call(o.convertToTspans,t),s.textBB=i.bBox(D.node()),s.transform=b(s,{fontSize:C.size,isHeader:u}),s.transform.fontSize=C.size,M?D.transition().attrTween("transform",function(t){var e=k(t,!1,E(),[x,m]);return function(t){return T(e(t))}}):D.attr("transform",T(s))}),B}},8153:(t,e,a)=>{var r=a(61784),n=a(4287);t.exports=function(t,e,a,i){return r(t,e,a,i,{type:"treemap",drawDescendants:n})}},12549:(t,e,a)=>{t.exports=a(3926)},23825:(t,e,a)=>{var r=a(27125),n=a(11470),i=a(76588),o=a(82184),s=a(65612),l=a(99451).styleOne,c=a(27547),d=a(19223),h=a(52404);t.exports=function(t,e,a,p,u){var f=u.barDifY,x=u.width,m=u.height,y=u.viewX,v=u.viewY,g=u.pathSlice,b=u.toMoveInsideSlice,T=u.strTransform,M=u.hasTransition,_=u.handleSlicesExit,w=u.makeUpdateSliceInterpolator,k=u.makeUpdateTextInterpolator,S={},L=t._context.staticPlot,I=t._fullLayout,X=e[0],Y=X.trace,P=X.hierarchy,A=x/Y._entryDepth,O=d.listPath(a.data,"id"),D=s(P.copy(),[x,m],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(D=D.filter(function(t){var e=O.indexOf(t.data.id);return -1!==e&&(t.x0=A*e,t.x1=A*(e+1),t.y0=f,t.y1=f+m,t.onPathbar=!0,!0)})).reverse(),(p=p.data(D,d.getPtId)).enter().append("g").classed("pathbar",!0),_(p,!0,S,[x,m],g),p.order();var C=p;M&&(C=C.transition().each("end",function(){var e=r.select(this);d.setSliceCursor(e,t,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),C.each(function(s){s._x0=y(s.x0),s._x1=y(s.x1),s._y0=v(s.y0),s._y1=v(s.y1),s._hoverX=y(s.x1-Math.min(x,m)/2),s._hoverY=v(s.y1-m/2);var p=r.select(this),u=n.ensureSingle(p,"path","surface",function(t){t.style("pointer-events",L?"none":"all")});M?u.transition().attrTween("d",function(t){var e=w(t,!0,S,[x,m]);return function(t){return g(e(t))}}):u.attr("d",g),p.call(h,a,t,e,{styleOne:l,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(d.setSliceCursor,t,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:t._transitioning}),u.call(l,s,Y,t,{hovered:!1}),s._text=(d.getPtLabel(s)||"").split("<br>").join(" ")||"";var f=n.ensureSingle(p,"g","slicetext"),_=n.ensureSingle(f,"text","",function(t){t.attr("data-notex",1)}),X=n.ensureUniformFontSize(t,d.determineTextFont(Y,s,I.font,{onPathbar:!0}));_.text(s._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(i.font,X).call(o.convertToTspans,t),s.textBB=i.bBox(_.node()),s.transform=b(s,{fontSize:X.size,onPathbar:!0}),s.transform.fontSize=X.size,M?_.transition().attrTween("transform",function(t){var e=k(t,!0,S,[x,m]);return function(t){return T(e(t))}}):_.attr("transform",T(s))})}},25207:(t,e,a)=>{var r=a(78041);e.name="treemap",e.plot=function(t,a,n,i){r.plotBasePlot(e.name,t,a,n,i)},e.clean=function(t,a,n,i){r.cleanBasePlot(e.name,t,a,n,i)}},27547:t=>{t.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},37615:(t,e,a)=>{var r=a(26399).rb,n=a(26399).ay,i=a(93292),o=a(68491).u,s=a(66823),l=a(60015),c=a(27547),d=a(29410).extendFlat,h=a(93001).k;t.exports={labels:l.labels,parents:l.parents,values:l.values,branchvalues:l.branchvalues,count:l.count,level:l.level,maxdepth:l.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot",description:"Determines d3 treemap solver. For more info please refer to https://github.com/d3/d3-hierarchy#treemap-tiling"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot",description:"When using *squarify* `packing` algorithm, according to https://github.com/d3/d3-hierarchy/blob/v3.1.1/README.md#squarify_ratio this option specifies the desired aspect ratio of the generated rectangles. The ratio must be specified as a number greater than or equal to one. Note that the orientation of the generated rectangles (tall or wide) is not implied by the ratio; for example, a ratio of two will attempt to produce a mixture of rectangles whose width:height ratio is either 2:1 or 1:2. When using *squarify*, unlike d3 which uses the Golden Ratio i.e. 1.618034, Plotly applies 1 to increase squares in treemap layouts."},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot",description:"Determines if the positions obtained from solver are flipped on each axis."},pad:{valType:"number",min:0,dflt:3,editType:"plot",description:"Sets the inner padding (in px)."},editType:"calc"},marker:d({pad:{t:{valType:"number",min:0,editType:"plot",description:"Sets the padding form the top (in px)."},l:{valType:"number",min:0,editType:"plot",description:"Sets the padding form the left (in px)."},r:{valType:"number",min:0,editType:"plot",description:"Sets the padding form the right (in px)."},b:{valType:"number",min:0,editType:"plot",description:"Sets the padding form the bottom (in px)."},editType:"calc"},colors:l.marker.colors,pattern:h,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style",description:"Determines if the sector colors are faded towards the background from the leaves up to the headers. This option is unavailable when a `colorscale` is present, defaults to false when `marker.colors` is set, but otherwise defaults to true. When set to *reversed*, the fading direction is inverted, that is the top elements within hierarchy are drawn with fully saturated colors while the leaves are faded towards the background color."},line:l.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot",description:"Sets the maximum rounding of corners (in px)."},editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot",description:"Determines if the path bar is drawn i.e. outside the trace `domain` and with one pixel gap."},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot",description:"Determines on which side of the the treemap the `pathbar` should be presented."},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot",description:"Determines which shape is used for edges between `barpath` labels."},thickness:{valType:"number",min:12,editType:"plot",description:"Sets the thickness of `pathbar` (in px). If not specified the `pathbar.textfont.size` is used with 3 pixles extra padding on each side."},textfont:d({},s.textfont,{description:"Sets the font used inside `pathbar`."}),editType:"calc"},text:s.text,textinfo:l.textinfo,texttemplate:n({editType:"plot"},{keys:c.eventDataKeys.concat(["label","value"])}),hovertext:s.hovertext,hoverinfo:l.hoverinfo,hovertemplate:r({},{keys:c.eventDataKeys}),textfont:s.textfont,insidetextfont:s.insidetextfont,outsidetextfont:d({},s.outsidetextfont,{description:"Sets the font used for `textinfo` lying outside the sector. This option refers to the root of the hierarchy presented on top left corner of a treemap graph. Please note that if a hierarchy has multiple root nodes, this option won't have any effect and `insidetextfont` would be used."}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot",description:"Sets the positions of the `text` elements."},sort:s.sort,root:l.root,domain:o({name:"treemap",trace:!0,editType:"calc"})}},46540:t=>{t.exports={treemapcolorway:{valType:"colorlist",editType:"calc",description:"Sets the default treemap slice colors. Defaults to the main `colorway` used for trace colors. If you specify a new list here it can still be extended with lighter and darker colors, see `extendtreemapcolors`."},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc",description:"If `true`, the treemap slice colors (whether given by `treemapcolorway` or inherited from `colorway`) will be extended to three times its original length by first repeating every color 20% lighter then each color 20% darker. This is intended to reduce the likelihood of reusing the same color when you have many slices, but you can set `false` to disable. Colors provided in the trace, using `marker.colors`, are never extended."}}},59012:(t,e,a)=>{var r=a(27125),n=a(1460),i=a(11470),o=a(82184),s=a(9737),l=a(76588),c=a(30649),d=a(35389).tickText,h=a(46665),p=h.recordMinTextSize,u=h.clearMinTextSize,f=a(6528),x=a(18748),m=a(23300),y=a(35242),v=y.text,g=y.textposition,b=a(49895).appendArrayPointValue,T=m.TEXTPAD;function M(t){return t.id}function _(t,e,a,r){var n;return!e.uniformtext.mode&&w(a)?(r&&(n=r()),t.transition().duration(a.duration).ease(a.easing).each("end",function(){n&&n()}).each("interrupt",function(){n&&n()})):t}function w(t){return t&&t.duration>0}function k(t,e,a,r,n){return!(t<0)&&!(e<0)&&(a<=t&&r<=e||a<=e&&r<=t||(n?t>=e/r*a:e>=t/a*r))}function S(t){return"auto"===t?0:t}function L(t,e){var a=Math.PI/180*e,r=Math.abs(Math.sin(a)),n=Math.abs(Math.cos(a));return{x:t.width*n+t.height*r,y:t.width*r+t.height*n}}function I(t,e,a,r,n,i){var o,s,l=!!i.isHorizontal,c=!!i.constrained,d=i.angle||0,h=i.anchor,p="end"===h,u="start"===h,f=((i.leftToRight||0)+1)/2,x=1-f,m=i.hasB,y=i.r,v=i.overhead,g=n.width,b=n.height,M=Math.abs(e-t),_=Math.abs(r-a),w=M>2*T&&_>2*T?T:0;M-=2*w,_-=2*w;var k=S(d);"auto"===d&&!(g<=M&&b<=_)&&(g>M||b>_)&&(!(g>_||b>M)||g<b!=M<_)&&(k+=90);var I=L(n,k);if(y&&y-v>T){var X,Y,P,A,O,D,C,z,B,R,E,q,H,N,F,V,U,K,W=(X=t,Y=e,P=a,A=r,O=I,D=y,C=v,z=l,B=m,F=Math.max(0,Math.abs(Y-X)-2*T),V=Math.max(0,Math.abs(A-P)-2*T),U=D-T,K=C?U-Math.sqrt(U*U-(U-C)*(U-C)):U,O.y/O.x>=V/(F-(B?2*U:z?U-C:2*K))?H=V/O.y:O.y/O.x<=(V-(B?2*U:z?2*K:U-C))/F?H=F/O.x:!B&&z?(R=O.x*O.x+O.y*O.y/4,H=(-(E=-2*O.x*(F-U)-O.y*(V/2-U))+Math.sqrt(E*E-4*R*((F-U)*(F-U)+(V/2-U)*(V/2-U)-U*U)))/(2*R)):B?(R=(O.x*O.x+O.y*O.y)/4,H=(-(E=-O.x*(F/2-U)-O.y*(V/2-U))+Math.sqrt(E*E-4*R*((F/2-U)*(F/2-U)+(V/2-U)*(V/2-U)-U*U)))/(2*R)):(R=O.x*O.x/4+O.y*O.y,H=(-(E=-O.x*(F/2-U)-2*O.y*(V-U))+Math.sqrt(E*E-4*R*((F/2-U)*(F/2-U)+(V-U)*(V-U)-U*U)))/(2*R)),H=Math.min(1,H),N=z?Math.max(0,U-Math.sqrt(Math.max(0,U*U-(U-(V-O.y*H)/2)*(U-(V-O.y*H)/2)))-C):Math.max(0,U-Math.sqrt(Math.max(0,U*U-(U-(F-O.x*H)/2)*(U-(F-O.x*H)/2)))-C),{scale:H,pad:N});o=W.scale,s=W.pad}else o=1,c&&(o=Math.min(1,M/I.x,_/I.y)),s=0;var Z=n.left*x+n.right*f,G=(n.top+n.bottom)/2,j=(t+T)*x+(e-T)*f,J=(a+r)/2,Q=0,$=0;if(u||p){var tt=(l?I.x:I.y)/2;y&&(p||m)&&(w+=s);var te=l?t<e?1:-1:a<r?1:-1;l?u?(j=t+te*w,Q=-te*tt):(j=e-te*w,Q=te*tt):u?(J=a+te*w,$=-te*tt):(J=r-te*w,$=te*tt)}return{textX:Z,textY:G,targetX:j,targetY:J,anchorX:Q,anchorY:$,scale:o,rotate:k}}t.exports={plot:function(t,e,a,h,m,y){var X=e.xaxis,Y=e.yaxis,P=t._fullLayout,A=t._context.staticPlot;m||(m={mode:P.barmode,norm:P.barmode,gap:P.bargap,groupgap:P.bargroupgap},u("bar",P));var O=i.makeTraceGroups(h,a,"trace bars").each(function(a){var c=r.select(this),h=a[0].trace,u=a[0].t,O="waterfall"===h.type,D="funnel"===h.type,C="histogram"===h.type,z="bar"===h.type,B=z||D,R=0;O&&h.connector.visible&&"between"===h.connector.mode&&(R=h.connector.line.width/2);var E="h"===h.orientation,q=w(m),H=i.ensureSingle(c,"g","points"),N=function(t){if(t.ids)return M}(h),F=H.selectAll("g.point").data(i.identity,N);F.enter().append("g").classed("point",!0),F.exit().remove(),F.each(function(c,M){var w,O,D,H,N,F=r.select(this),V=(tr=[],tn=[],ti=E?X:Y,to=E?Y:X,tr[0]=ti.c2p(c.s0,!0),tn[0]=to.c2p(c.p0,!0),tr[1]=ti.c2p(c.s1,!0),tn[1]=to.c2p(c.p1,!0),E?[tr,tn]:[tn,tr]),U=V[0][0],K=V[0][1],W=V[1][0],Z=V[1][1],G=(E?K-U:Z-W)==0;if(G&&B&&x.getLineWidth(h,c)&&(G=!1),G||(G=!n(U)||!n(K)||!n(W)||!n(Z)),c.isBlank=G,G&&(E?K=U:Z=W),R&&!G&&(E?(U-=(U<K?1:-1)*R,K+=(U<K?1:-1)*R):(W-=(W<Z?1:-1)*R,Z+=(W<Z?1:-1)*R)),"waterfall"===h.type){if(!G){var j=h[c.dir].marker;w=j.line.width,O=j.color}}else w=x.getLineWidth(h,c),O=c.mc||h.marker.color;function J(t){var e=r.round(w/2%1,2);return 0===m.gap&&0===m.groupgap?r.round(Math.round(t)-e,2):t}var Q=1>s.opacity(O)||w>.01?J:function(t,e,a){return a&&t===e?t:Math.abs(t-e)>=2?J(t):t>e?Math.ceil(t):Math.floor(t)};t._context.staticPlot||(U=Q(U,K,E),K=Q(K,U,E),W=Q(W,Z,!E),Z=Q(Z,W,!E));var $=E?X.c2p:Y.c2p;D=c.s0>0?c._sMax:c.s0<0?c._sMin:c.s1>0?c._sMax:c._sMin;var tt=z||C?function(t,e){if(!t)return 0;var a,r=E?Math.abs(Z-W):Math.abs(K-U),n=E?Math.abs(K-U):Math.abs(Z-W),i=Q(Math.abs($(D,!0)-$(0,!0))),o=c.hasB?Math.min(r/2,n/2):Math.min(r/2,i);return Q(Math.max(Math.min("%"===e?Math.min(50,t)/100*r:t,o),0))}(u.cornerradiusvalue,u.cornerradiusform):0,te="M"+U+","+W+"V"+Z+"H"+K+"V"+W+"Z",ta=0;if(tt&&c.s){var tr,tn,ti,to,ts,tl,tc,td=0==((ts=c.s0)>0)-(ts<0)||((tl=c.s)>0)-(tl<0)==((tc=c.s0)>0)-(tc<0)?c.s1:c.s0;if((ta=Q(c.hasB?0:Math.abs($(D,!0)-$(td,!0))))<tt){var th=U<K?1:-1,tp=W<Z?1:-1,tu=+(th===-tp);if(E){if(c.hasB)H="M"+(U+tt*th)+","+W+"A "+tt+","+tt+" 0 0 "+tu+" "+U+","+(W+tt*tp)+"V"+(Z-tt*tp)+"A "+tt+","+tt+" 0 0 "+tu+" "+(U+tt*th)+","+Z+"H"+(K-tt*th)+"A "+tt+","+tt+" 0 0 "+tu+" "+K+","+(Z-tt*tp)+"V"+(W+tt*tp)+"A "+tt+","+tt+" 0 0 "+tu+" "+(K-tt*th)+","+W+"Z";else{var tf=(N=Math.abs(K-U)+ta)<tt?tt-Math.sqrt(N*(2*tt-N)):0,tx=ta>0?Math.sqrt(ta*(2*tt-ta)):0,tm=th>0?Math.max:Math.min;H="M"+U+","+W+"V"+(Z-tf*tp)+"H"+tm(K-(tt-ta)*th,U)+"A "+tt+","+tt+" 0 0 "+tu+" "+K+","+(Z-tt*tp-tx)+"V"+(W+tt*tp+tx)+"A "+tt+","+tt+" 0 0 "+tu+" "+tm(K-(tt-ta)*th,U)+","+(W+tf*tp)+"Z"}}else if(c.hasB)H="M"+(U+tt*th)+","+W+"A "+tt+","+tt+" 0 0 "+tu+" "+U+","+(W+tt*tp)+"V"+(Z-tt*tp)+"A "+tt+","+tt+" 0 0 "+tu+" "+(U+tt*th)+","+Z+"H"+(K-tt*th)+"A "+tt+","+tt+" 0 0 "+tu+" "+K+","+(Z-tt*tp)+"V"+(W+tt*tp)+"A "+tt+","+tt+" 0 0 "+tu+" "+(K-tt*th)+","+W+"Z";else{var ty=(N=Math.abs(Z-W)+ta)<tt?tt-Math.sqrt(N*(2*tt-N)):0,tv=ta>0?Math.sqrt(ta*(2*tt-ta)):0,tg=tp>0?Math.max:Math.min;H="M"+(U+ty*th)+","+W+"V"+tg(Z-(tt-ta)*tp,W)+"A "+tt+","+tt+" 0 0 "+tu+" "+(U+tt*th-tv)+","+Z+"H"+(K-tt*th+tv)+"A "+tt+","+tt+" 0 0 "+tu+" "+(K-ty*th)+","+tg(Z-(tt-ta)*tp,W)+"V"+W+"Z"}}else H=te}else H=te;var tb=_(i.ensureSingle(F,"path"),P,m,y);if(tb.style("vector-effect",A?"none":"non-scaling-stroke").attr("d",isNaN((K-U)*(Z-W))||G&&t._context.staticPlot?"M0,0Z":H).call(l.setClipUrl,e.layerClipId,t),!P.uniformtext.mode&&q){var tT=l.makePointStyleFns(h);l.singlePointStyle(c,tb,h,tT,t)}(function(t,e,a,r,n,s,c,h,u,m,y,M,w){var X,Y,P,A,O,D,C,z,B,R,E,q,H,N,F,V,U,K,W,Z,G,j,J,Q,$,tt,te,ta=e.xaxis,tr=e.yaxis,tn=t._fullLayout;function ti(e,a,r){return i.ensureSingle(e,"text").text(a).attr({class:"bartext bartext-"+tA,"text-anchor":"middle","data-notex":1}).call(l.font,r).call(o.convertToTspans,t)}var to=r[0].trace,ts="h"===to.orientation,tl=(tM=tn,t_=r,tw=n,tk=ta,tS=tr,tL=(tI=t_[0].trace).texttemplate?function(t,e,a,r,n){var o,s,l,c,h,p=e[0].trace,u=i.castOption(p,a,"texttemplate");if(!u)return"";var f="histogram"===p.type,x="waterfall"===p.type,m="funnel"===p.type,y="h"===p.orientation;function v(t){return d(h,h.c2l(t),!0).text}y?(s="y",l=n,c="x",h=r):(s="x",l=r,c="y",h=n);var g=e[a],T={};T.label=g.p,T.labelLabel=T[s+"Label"]=(o=g.p,d(l,l.c2l(o),!0).text);var M=i.castOption(p,g.i,"text");(0===M||M)&&(T.text=M),T.value=g.s,T.valueLabel=T[c+"Label"]=v(g.s);var _={};b(_,p,g.i),(f||void 0===_.x)&&(_.x=y?T.value:T.label),(f||void 0===_.y)&&(_.y=y?T.label:T.value),(f||void 0===_.xLabel)&&(_.xLabel=y?T.valueLabel:T.labelLabel),(f||void 0===_.yLabel)&&(_.yLabel=y?T.labelLabel:T.valueLabel),x&&(T.delta=+g.rawS||g.s,T.deltaLabel=v(T.delta),T.final=g.v,T.finalLabel=v(T.final),T.initial=T.final-T.delta,T.initialLabel=v(T.initial)),m&&(T.value=g.s,T.valueLabel=v(T.value),T.percentInitial=g.begR,T.percentInitialLabel=i.formatPercent(g.begR),T.percentPrevious=g.difR,T.percentPreviousLabel=i.formatPercent(g.difR),T.percentTotal=g.sumR,T.percenTotalLabel=i.formatPercent(g.sumR));var w=i.castOption(p,g.i,"customdata");return w&&(T.customdata=w),i.texttemplateString(u,T,t._d3locale,_,T,p._meta||{})}(tM,t_,tw,tk,tS):tI.textinfo?function(t,e,a,r){var n,o=t[0].trace,s="h"===o.orientation,l="waterfall"===o.type,c="funnel"===o.type;function h(t){return d(s?a:r,+t,!0).text}var p=o.textinfo,u=t[e],f=p.split("+"),x=[],m=function(t){return -1!==f.indexOf(t)};if(m("label")&&x.push(d(s?r:a,t[e].p,!0).text),m("text")&&(0===(n=i.castOption(o,u.i,"text"))||n)&&x.push(n),l){var y=+u.rawS||u.s,v=u.v;m("initial")&&x.push(h(v-y)),m("delta")&&x.push(h(y)),m("final")&&x.push(h(v))}if(c){m("value")&&x.push(h(u.s));var g=0;m("percent initial")&&g++,m("percent previous")&&g++,m("percent total")&&g++;var b=g>1;m("percent initial")&&(n=i.formatPercent(u.begR),b&&(n+=" of initial"),x.push(n)),m("percent previous")&&(n=i.formatPercent(u.difR),b&&(n+=" of previous"),x.push(n)),m("percent total")&&(n=i.formatPercent(u.sumR),b&&(n+=" of total"),x.push(n))}return x.join("<br>")}(t_,tw,tk,tS):x.getValue(tI.text,tw),x.coerceString(v,tL));tX=to,tY=n,tP=x.getValue(tX.textposition,tY),tA=x.coerceEnumerated(g,tP);var tc="stack"===M.mode||"relative"===M.mode,td=r[n],th=!tc||td._outmost,tp=td.hasB,tu=m&&m-y>T;if(!tl||"none"===tA||(td.isBlank||s===c||h===u)&&("auto"===tA||"inside"===tA)){a.select("text").remove();return}var tf=tn.font,tx=f.getBarColor(r[n],to),tm=f.getInsideTextFont(to,n,tf,tx),ty=f.getOutsideTextFont(to,n,tf),tv=to.insidetextanchor||"end",tg=a.datum();ts?"log"===ta.type&&tg.s0<=0&&(s=ta.range[0]<ta.range[1]?0:ta._length):"log"===tr.type&&tg.s0<=0&&(h=tr.range[0]<tr.range[1]?tr._length:0);var tb=Math.abs(c-s)-2*T,tT=Math.abs(u-h)-2*T;if("outside"!==tA||th||td.hasB||(tA="inside"),"auto"===tA){if(th){tA="inside",tO=ti(a,tl,tz=i.ensureUniformFontSize(t,tm)),tC=(tD=l.bBox(tO.node())).width;var tM,t_,tw,tk,tS,tL,tI,tX,tY,tP,tA,tO,tD,tC,tz,tB,tR=tD.height,tE=tC>0&&tR>0;tB=tu?tp?k(tb-2*m,tT,tC,tR,ts)||k(tb,tT-2*m,tC,tR,ts):ts?k(tb-(m-y),tT,tC,tR,ts)||k(tb,tT-2*(m-y),tC,tR,ts):k(tb,tT-(m-y),tC,tR,ts)||k(tb-2*(m-y),tT,tC,tR,ts):k(tb,tT,tC,tR,ts),tE&&tB?tA="inside":(tA="outside",tO.remove(),tO=null)}else tA="inside"}if(!tO){var tq=(tO=ti(a,tl,tz=i.ensureUniformFontSize(t,"outside"===tA?ty:tm))).attr("transform");if(tO.attr("transform",""),tC=(tD=l.bBox(tO.node())).width,tR=tD.height,tO.attr("transform",tq),tC<=0||tR<=0){tO.remove();return}}var tH=to.textangle;(tt="outside"===tA?(X=s,Y=c,P=h,A=u,O=tD,z=!!(D={isHorizontal:ts,constrained:"both"===to.constraintext||"outside"===to.constraintext,angle:tH}).isHorizontal,B=!!D.constrained,R=D.angle||0,E=O.width,q=O.height,H=Math.abs(Y-X),N=Math.abs(A-P),C=z?N>2*T?T:0:H>2*T?T:0,F=1,B&&(F=z?Math.min(1,N/q):Math.min(1,H/E)),U=L(O,V=S(R)),K=(z?U.x:U.y)/2,W=(O.left+O.right)/2,Z=(O.top+O.bottom)/2,G=(X+Y)/2,j=(P+A)/2,J=0,Q=0,$=z?Y<X?1:-1:P<A?1:-1,z?(G=Y-$*C,J=$*K):(j=A+$*C,Q=-$*K),{textX:W,textY:Z,targetX:G,targetY:j,anchorX:J,anchorY:Q,scale:F,rotate:V}):I(s,c,h,u,tD,{isHorizontal:ts,constrained:"both"===to.constraintext||"inside"===to.constraintext,angle:tH,anchor:tv,hasB:tp,r:m,overhead:y})).fontSize=tz.size,p("histogram"===to.type?"bar":to.type,tt,tn),td.transform=tt;var tN=_(tO,tn,M,w);i.setTransormAndDisplay(tN,tt)})(t,e,F,a,M,U,K,W,Z,tt,ta,m,y),e.layerClipId&&l.hideOutsideRangePoint(c,F.select("text"),X,Y,h.xcalendar,h.ycalendar)});var V=!1===h.cliponaxis;l.setClipUrl(c,V?null:e.layerClipId,t)});c.getComponentMethod("errorbars","plot")(t,O,e,m)},toMoveInsideBar:I}},61784:(t,e,a)=>{var r=a(27125),n=a(19223),i=a(46665).clearMinTextSize,o=a(6528).resizeText,s=a(77430);t.exports=function(t,e,a,l,c){var d,h,p=c.type,u=c.drawDescendants,f=t._fullLayout,x=f["_"+p+"layer"],m=!a;i(p,f),(d=x.selectAll("g.trace."+p).data(e,function(t){return t[0].trace.uid})).enter().append("g").classed("trace",!0).classed(p,!0),d.order(),!f.uniformtext.mode&&n.hasTransition(a)?(l&&(h=l()),r.transition().duration(a.duration).ease(a.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()}).each(function(){x.selectAll("g.trace").each(function(e){s(t,e,this,a,u)})})):(d.each(function(e){s(t,e,this,a,u)}),f.uniformtext.mode&&o(t,x.selectAll(".trace"),p)),m&&d.exit().remove()}},65612:(t,e,a)=>{var r=a(87130),n=a(87678);t.exports=function(t,e,a){var i,o=a.flipX,s=a.flipY,l="dice-slice"===a.packing,c=a.pad[s?"bottom":"top"],d=a.pad[o?"right":"left"],h=a.pad[o?"left":"right"],p=a.pad[s?"top":"bottom"];l&&(i=d,d=c,c=i,i=h,h=p,p=i);var u=r.treemap().tile(function(t,e){switch(t){case"squarify":return r.treemapSquarify.ratio(e);case"binary":return r.treemapBinary;case"dice":return r.treemapDice;case"slice":return r.treemapSlice;default:return r.treemapSliceDice}}(a.packing,a.squarifyratio)).paddingInner(a.pad.inner).paddingLeft(d).paddingRight(h).paddingTop(c).paddingBottom(p).size(l?[e[1],e[0]]:e)(t);return(l||o||s)&&n(u,e,{swapXY:l,flipX:o,flipY:s}),u}},77430:(t,e,a)=>{var r=a(27125),n=a(93688).GW,i=a(19223),o=a(11470),s=a(23300).TEXTPAD,l=a(59012).toMoveInsideBar,c=a(46665).recordMinTextSize,d=a(27547),h=a(23825);function p(t){return i.isHierarchyRoot(t)?"":i.getPtId(t)}t.exports=function(t,e,a,u,f){var x=t._fullLayout,m=e[0],y=m.trace,v="icicle"===y.type,g=m.hierarchy,b=i.findEntryWithLevel(g,y.level),T=r.select(a),M=T.selectAll("g.pathbar"),_=T.selectAll("g.slice");if(!b){M.remove(),_.remove();return}var w=i.isHierarchyRoot(b),k=!x.uniformtext.mode&&i.hasTransition(u),S=i.getMaxDepth(y),L=x._size,I=y.domain,X=L.w*(I.x[1]-I.x[0]),Y=L.h*(I.y[1]-I.y[0]),P=y.pathbar.thickness,A=y.marker.line.width+d.gapWithPathbar,O=y.pathbar.visible?y.pathbar.side.indexOf("bottom")>-1?Y+A:-(P+A):0,D={x0:X,x1:X,y0:O,y1:O+P},C=function(t,e,a){var r=y.tiling.pad,n=function(t){return t-r<=e.x0},i=function(t){return t+r>=e.x1},o=function(t){return t-r<=e.y0},s=function(t){return t+r>=e.y1};return t.x0===e.x0&&t.x1===e.x1&&t.y0===e.y0&&t.y1===e.y1?{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}:{x0:n(t.x0-r)?0:i(t.x0-r)?a[0]:t.x0,x1:n(t.x1+r)?0:i(t.x1+r)?a[0]:t.x1,y0:o(t.y0-r)?0:s(t.y0-r)?a[1]:t.y0,y1:o(t.y1+r)?0:s(t.y1+r)?a[1]:t.y1}},z=null,B={},R={},E=null,q=function(t,e){return e?B[p(t)]:R[p(t)]},H=function(t,e,a,r){if(e)return B[p(g)]||D;var n=R[y.level]||a;return t.data.depth-b.data.depth<S?C(t,n,r):{}};m.hasMultipleRoots&&w&&S++,y._maxDepth=S,y._backgroundColor=x.paper_bgcolor,y._entryDepth=b.data.depth,y._atRootLevel=w;var N=-X/2+L.l+L.w*(I.x[1]+I.x[0])/2,F=-Y/2+L.t+L.h*(1-(I.y[1]+I.y[0])/2),V=function(t){return N+t},U=function(t){return F+t},K=U(0),W=V(0),Z=function(t){return W+t},G=function(t){return K+t},j=Z(0),J=function(t){t.x=Math.max(j,t.x)},Q=y.pathbar.edgeshape,$=y[v?"tiling":"marker"].pad,tt=function(t){return -1!==y.textposition.indexOf(t)},te=tt("top"),ta=tt("left"),tr=tt("right"),tn=tt("bottom"),ti=function(t,e){var a=t.x0,r=t.x1,n=t.y0,i=t.y1,o=t.textBB,d=te||e.isHeader&&!tn,h=tt("right"),p=tt("left")||e.onPathbar;if(e.isHeader){if((a+=(v?$:$.l)-s)>=(r-=(v?$:$.r)-s)){var u,f=(a+r)/2;a=f,r=f}tn?n<(u=i-(v?$:$.b))&&u<i&&(n=u):(u=n+(v?$:$.t),n<u&&u<i&&(i=u))}var m=l(a,r,n,i,o,{isHorizontal:!1,constrained:!0,angle:0,anchor:d?"start":tn?"end":"middle",leftToRight:p?-1:+!!h});return(m.fontSize=e.fontSize,m.targetX=V(m.targetX),m.targetY=U(m.targetY),isNaN(m.targetX)||isNaN(m.targetY))?{}:(a!==r&&n!==i&&c(y.type,m,x),{scale:m.scale,rotate:m.rotate,textX:m.textX,textY:m.textY,anchorX:m.anchorX,anchorY:m.anchorY,targetX:m.targetX,targetY:m.targetY})},to=function(t,e){for(var a,r=0,n=t;!a&&r<S;)r++,(n=n.parent)?a=q(n,e):r=S;return a||{}},ts=function(t,e,a,r){var i,o=q(t,e);if(e)i=D;else{var s=q(b,e);i=s?C(t,s,r):{}}return n(o,i)},tl=function(t,e,a,r,i){var s,l=q(t,e);if(l)s=l;else if(e)s=D;else if(z){if(t.parent){var c=E||a;c&&!e?s=C(t,c,r):(s={},o.extendFlat(s,to(t,e)))}else s=o.extendFlat({},t),v&&("h"===i.orientation?i.flipX?s.x0=t.x1:s.x1=0:i.flipY?s.y0=t.y1:s.y1=0)}else s={};return n(s,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1})},tc=function(t,e,a,r){var s=q(t,e),l={},d=H(t,e,a,r);o.extendFlat(l,{transform:ti({x0:d.x0,x1:d.x1,y0:d.y0,y1:d.y1,textBB:t.textBB,_text:t._text},{isHeader:i.isHeader(t,y)})}),s?l=s:t.parent&&o.extendFlat(l,to(t,e));var h=t.transform;return t.x0!==t.x1&&t.y0!==t.y1&&c(y.type,h,x),n(l,{transform:{scale:h.scale,rotate:h.rotate,textX:h.textX,textY:h.textY,anchorX:h.anchorX,anchorY:h.anchorY,targetX:h.targetX,targetY:h.targetY}})},td=function(t,e,a,n,i){var o=n[0],s=n[1];k?t.exit().transition().each(function(){var t=r.select(this);t.select("path.surface").transition().attrTween("d",function(t){var r=ts(t,e,a,[o,s]);return function(t){return i(r(t))}}),t.select("g.slicetext").attr("opacity",0)}).remove():t.exit().remove()},th=function(t){var e=t.transform;return t.x0!==t.x1&&t.y0!==t.y1&&c(y.type,e,x),o.getTextTransform({textX:e.textX,textY:e.textY,anchorX:e.anchorX,anchorY:e.anchorY,targetX:e.targetX,targetY:e.targetY,scale:e.scale,rotate:e.rotate})};k&&(M.each(function(t){B[p(t)]={x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1},t.transform&&(B[p(t)].transform={textX:t.transform.textX,textY:t.transform.textY,anchorX:t.transform.anchorX,anchorY:t.transform.anchorY,targetX:t.transform.targetX,targetY:t.transform.targetY,scale:t.transform.scale,rotate:t.transform.rotate})}),_.each(function(t){R[p(t)]={x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1},t.transform&&(R[p(t)].transform={textX:t.transform.textX,textY:t.transform.textY,anchorX:t.transform.anchorX,anchorY:t.transform.anchorY,targetX:t.transform.targetX,targetY:t.transform.targetY,scale:t.transform.scale,rotate:t.transform.rotate}),!z&&i.isEntry(t)&&(z=t)})),E=f(t,e,b,_,{width:X,height:Y,viewX:V,viewY:U,pathSlice:function(t){var e=V(t.x0),a=V(t.x1),r=U(t.y0),n=U(t.y1),i=a-e,o=n-r;if(!i||!o)return"";var s=Math.min(y.marker.cornerradius||0,i/2,o/2);s&&t.data&&t.data.data&&t.data.data.label&&(te&&(s=Math.min(s,$.t)),ta&&(s=Math.min(s,$.l)),tr&&(s=Math.min(s,$.r)),tn&&(s=Math.min(s,$.b)));var l=function(t,e){return s?"a"+s+","+s+" 0 0 1 "+t+","+e:""};return"M"+e+","+(r+s)+l(s,-s)+"L"+(a-s)+","+r+l(s,s)+"L"+a+","+(n-s)+l(-s,s)+"L"+(e+s)+","+n+l(-s,-s)+"Z"},toMoveInsideSlice:ti,prevEntry:z,makeUpdateSliceInterpolator:tl,makeUpdateTextInterpolator:tc,handleSlicesExit:td,hasTransition:k,strTransform:th}),y.pathbar.visible?h(t,e,b,M,{barDifY:O,width:X,height:P,viewX:Z,viewY:G,pathSlice:function(t){var e=Z(Math.max(Math.min(t.x0,t.x0),0)),a=Z(Math.min(Math.max(t.x1,t.x1),X)),r=G(t.y0),n=G(t.y1),i=P/2,o={},s={};o.x=e,s.x=a,o.y=s.y=(r+n)/2;var l={x:e,y:r},c={x:a,y:r},d={x:a,y:n},h={x:e,y:n};return">"===Q?(l.x-=i,c.x-=i,d.x-=i,h.x-=i):"/"===Q?(d.x-=i,h.x-=i,o.x-=i/2,s.x-=i/2):"\\"===Q?(l.x-=i,c.x-=i,o.x-=i/2,s.x-=i/2):"<"===Q&&(o.x-=i,s.x-=i),J(l),J(h),J(o),J(c),J(d),J(s),"M"+(l.x+",")+l.y+"L"+(c.x+",")+c.y+"L"+(s.x+",")+s.y+"L"+(d.x+",")+d.y+"L"+(h.x+",")+h.y+"L"+(o.x+",")+o.y+"Z"},toMoveInsideSlice:ti,makeUpdateSliceInterpolator:tl,makeUpdateTextInterpolator:tc,handleSlicesExit:td,hasTransition:k,strTransform:th}):M.remove()}},87678:t=>{t.exports=function t(e,a,r){r.swapXY&&(n=e.x0,e.x0=e.y0,e.y0=n,n=e.x1,e.x1=e.y1,e.y1=n),r.flipX&&(n=e.x0,e.x0=a[0]-e.x1,e.x1=a[0]-n),r.flipY&&(n=e.y0,e.y0=a[1]-e.y1,e.y1=a[1]-n);var n,i=e.children;if(i)for(var o=0;o<i.length;o++)t(i[o],a,r)}},92875:(t,e,a)=>{var r=a(76171);e._=function(t,e){return r.calc(t,e)},e.t=function(t){return r._runCrossTraceCalc("treemap",t)}},99451:(t,e,a)=>{var r=a(27125),n=a(9737),i=a(11470),o=a(19223),s=a(46665).resizeText,l=a(58976);function c(t,e,a,r,s){var c=(s||{}).hovered,d=e.data.data,h=d.i,p=d.color,u=o.isHierarchyRoot(e),f=1;if(c)m=a._hovered.marker.line.color,y=a._hovered.marker.line.width;else if(u&&p===a.root.color)f=100,m="rgba(0,0,0,0)",y=0;else if(m=i.castOption(a,h,"marker.line.color")||n.defaultLine,y=i.castOption(a,h,"marker.line.width")||0,!a._hasColorscale&&!e.onPathbar){var x=a.marker.depthfade;if(x){var m,y,v,g=n.combine(n.addOpacity(a._backgroundColor,.75),p);if(!0===x?v=isFinite(o.getMaxDepth(a))?o.isLeaf(e)?0:a._maxVisibleLayers-(e.data.depth-a._entryDepth):e.data.height+1:(v=e.data.depth-a._entryDepth,!a._atRootLevel&&v++),v>0)for(var b=0;b<v;b++){var T=.5*b/v;p=n.combine(n.addOpacity(g,T),p)}}}t.call(l,e,a,r,p).style("stroke-width",y).call(n.stroke,m).style("opacity",f)}t.exports={style:function(t){var e=t._fullLayout._treemaplayer.selectAll(".trace");s(t,e,"treemap"),e.each(function(e){var a=r.select(this),n=e[0].trace;a.style("opacity",n.opacity),a.selectAll("path.surface").each(function(e){r.select(this).call(c,e,n,t,{hovered:!1})})})},styleOne:c}}}]);