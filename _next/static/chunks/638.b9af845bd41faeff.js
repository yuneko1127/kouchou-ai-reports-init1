"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[638],{3712:(e,t,r)=>{var a=r(76043),n=r(17849).setGroupPositions;function i(e,t,r,a,n,i,l){n[a]=!0;var o,s,c,f,h,p,u={i:null,gap:!0,s:0};if(u[l]=r,e.splice(t,0,u),t&&r===e[t-1][l]){var v=e[t-1];u.s=v.s,u.i=v.i,u.gap=v.gap}else{i&&(o=e,s=t,c=r,f=l,h=o[s-1],u.s=(p=o[s+1])?h?h.s+(p.s-h.s)*(c-h[f])/(p[f]-h[f]):p.s:h.s)}t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}e.exports=function(e,t){"group"===e._fullLayout.scattermode&&function(e,t){for(var r=t.xaxis,a=t.yaxis,i=e._fullLayout,l=e._fullData,o=e.calcdata,s=[],c=[],f=0;f<l.length;f++){var h=l[f];!0===h.visible&&"scatter"===h.type&&h.xaxis===r._id&&h.yaxis===a._id&&("h"===h.orientation?s.push(o[f]):"v"===h.orientation&&c.push(o[f]))}var p={mode:i.scattermode,gap:i.scattergap};n(e,r,a,c,p),n(e,a,r,s,p)}(e,t);var r,l,o,s,c,f,h,p,u,v,g,d,x,y,m,b=t.xaxis,_=t.yaxis,M=b._id+_._id,k=e._fullLayout._scatterStackOpts[M];if(k){var A=e.calcdata;for(var w in k){var S=(v=k[w]).traceIndices;if(S.length){for(g="interpolate"===v.stackgaps,d=v.groupnorm,"v"===v.orientation?(x="x",y="y"):(x="y",y="x"),m=Array(S.length),r=0;r<m.length;r++)m[r]=!1;var L=Array((f=A[S[0]]).length);for(r=0;r<f.length;r++)L[r]=f[r][x];for(r=1;r<S.length;r++){for(c=A[S[r]],l=o=0;l<c.length;l++){for(h=c[l][x];h>L[o]&&o<L.length;o++)i(c,l,L[o],r,m,g,x),l++;if(h!==L[o]){for(s=0;s<r;s++)i(A[S[s]],o,h,s,m,g,x);L.splice(o,0,h)}o++}for(;o<L.length;o++)i(c,l,L[o],r,m,g,x),l++}var P=L.length;for(l=0;l<f.length;l++){for(r=1,p=f[l][y]=f[l].s;r<S.length;r++)(c=A[S[r]])[0].trace._rawLength=c[0].trace._length,c[0].trace._length=P,p+=c[l].s,c[l][y]=p;if(d)for(r=0,u=("fraction"===d?p:p/100)||1;r<S.length;r++){var D=A[S[r]][l];D[y]/=u,D.sNorm=D.s/u}}for(r=0;r<S.length;r++){var E=(c=A[S[r]])[0].trace,T=a.calcMarkerSize(E,E._rawLength),C=Array.isArray(T);if(T&&m[r]||C){var N=T;for(l=0,T=Array(P);l<P;l++)T[l]=c[l].gap?0:C?N[c[l].i]:N}var O=Array(P),F=Array(P);for(l=0;l<P;l++)O[l]=c[l].x,F[l]=c[l].y;a.calcAxisExpansion(e,E,b,_,O,F,T),c[0].t.orientation=v.orientation}}}}}},7064:(e,t,r)=>{var a=r(11470),n=r(86182),i=r(30649),l=r(62596),o=r(9737),s=a.fillText;e.exports=function(e,t,r,c){var f=e.cd,h=f[0].trace,p=e.xa,u=e.ya,v=p.c2p(t),g=u.c2p(r),d=[v,g],x=h.hoveron||"",y=-1!==h.mode.indexOf("markers")?3:.5,m=!!h.xperiodalignment,b=!!h.yperiodalignment;if(-1!==x.indexOf("points")){var _=function(e){var t=Math.max(y,e.mrc||0),r=p.c2p(e.x)-v,a=u.c2p(e.y)-g;return Math.max(Math.sqrt(r*r+a*a)-t,1-y/t)},M=n.getDistanceFunction(c,function(e){if(m){var t=p.c2p(e.xStart),r=p.c2p(e.xEnd);return v>=Math.min(t,r)&&v<=Math.max(t,r)?0:1/0}var a=Math.max(3,e.mrc||0),n=1-1/a,i=Math.abs(p.c2p(e.x)-v);return i<a?n*i/a:i-a+n},function(e){if(b){var t=u.c2p(e.yStart),r=u.c2p(e.yEnd);return g>=Math.min(t,r)&&g<=Math.max(t,r)?0:1/0}var a=Math.max(3,e.mrc||0),n=1-1/a,i=Math.abs(u.c2p(e.y)-g);return i<a?n*i/a:i-a+n},_);if(n.getClosest(f,M,e),!1!==e.index){var k=f[e.index],A=p.c2p(k.x,!0),w=u.c2p(k.y,!0),S=k.mrc||1;e.index=k.i;var L=f[0].t.orientation,P=L&&(k.sNorm||k.s),D="h"===L?P:void 0!==k.orig_x?k.orig_x:k.x,E="v"===L?P:void 0!==k.orig_y?k.orig_y:k.y;return a.extendFlat(e,{color:l(h,k),x0:A-S,x1:A+S,xLabelVal:D,y0:w-S,y1:w+S,yLabelVal:E,spikeDistance:_(k),hovertemplate:h.hovertemplate}),s(k,h,e),i.getComponentMethod("errorbars","hoverInfo")(k,h,e),[e]}}function T(e){if(!e)return!1;var t=e.node();try{var r=new DOMPoint(d[0],d[1]);return t.isPointInFill(r)}catch(e){var a=t.ownerSVGElement.createSVGPoint();return a.x=d[0],a.y=d[1],t.isPointInFill(a)}}if(-1!==x.indexOf("fills")&&h._fillElement&&T(h._fillElement)&&!T(h._fillExclusionElement)){var C=function(e){var t,r,a,n,i,l,o,s,c,f=[],h=1/0,v=-1/0,g=1/0,x=-1/0;for(t=0;t<e.length;t++){var y=e[t];y.contains(d)&&(f.push(y),g=Math.min(g,y.ymin),x=Math.max(x,y.ymax))}if(0===f.length)return null;for(t=0,r=((g=Math.max(g,0))+(x=Math.min(x,u._length)))/2;t<f.length;t++)for(a=1,n=f[t].pts;a<n.length;a++)(s=n[a-1][1])>r!=(c=n[a][1])>=r&&(l=n[a-1][0],o=n[a][0],c-s&&(h=Math.min(h,i=l+(o-l)*(r-s)/(c-s)),v=Math.max(v,i)));return{x0:h=Math.max(h,0),x1:v=Math.min(v,p._length),y0:r,y1:r}}(h._polygons);null===C&&(C={x0:d[0],x1:d[0],y0:d[1],y1:d[1]});var N=o.defaultLine;return o.opacity(h.fillcolor)?N=h.fillcolor:o.opacity((h.line||{}).color)&&(N=h.line.color),a.extendFlat(e,{distance:e.maxHoverDistance,x0:C.x0,x1:C.x1,y0:C.y0,y1:C.y1,color:N,hovertemplate:!1}),delete e.index,h.text&&!a.isArrayOrTypedArray(h.text)?e.text=String(h.text):e.text=h.name,[e]}}},13569:e=>{e.exports=function(e,t,r){"spline"===r("line.shape")&&r("line.smoothing")}},15638:(e,t,r)=>{var a=r(55189);e.exports={hasLines:a.hasLines,hasMarkers:a.hasMarkers,hasText:a.hasText,isBubble:a.isBubble,attributes:r(23247),layoutAttributes:r(15500),supplyDefaults:r(45344),crossTraceDefaults:r(1923),supplyLayoutDefaults:r(72883),calc:r(76043).calc,crossTraceCalc:r(3712),arraysToCalcdata:r(292),plot:r(91321),colorbar:r(34593),formatLabels:r(51669),style:r(94811).style,styleOnSelect:r(94811).styleOnSelect,hoverPoints:r(7064),selectPoints:r(94922),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r(34460),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{description:"The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts. The data visualized as scatter point or lines is set in `x` and `y`. Text (appearing either on the chart or on hover only) is via `text`. Bubble charts are achieved by setting `marker.size` and/or `marker.color` to numerical arrays."}}},17849:(e,t,r)=>{var a=r(1460),n=r(11470).isArrayOrTypedArray,i=r(91926).BADNUM,l=r(30649),o=r(35389),s=r(77436).getAxisGroup,c=r(82651);function f(e,t,r,l,s){var f,u,y,m,b,_,M,k,A,w;if(l.length){switch(function(e,t){var r,i;for(r=0;r<t.length;r++){var l,o=t[r],s=o[0].trace,c="funnel"===s.type?s._base:s.base,f="h"===s.orientation?s.xcalendar:s.ycalendar,h="category"===e.type||"multicategory"===e.type?function(){return null}:e.d2c;if(n(c)){for(i=0;i<Math.min(c.length,o.length);i++)a(l=h(c[i],0,f))?(o[i].b=+l,o[i].hasB=1):o[i].b=0;for(;i<o.length;i++)o[i].b=0}else{var p=a(l=h(c,0,f));for(i=0,l=p?l:0;i<o.length;i++)o[i].b=l,p&&(o[i].hasB=1)}}}(r,l),s.mode){case"overlay":h(e,t,r,l,s);break;case"group":for(y=0,f=[],u=[];y<l.length;y++)void 0===(m=l[y])[0].trace.offset?u.push(m):f.push(m);u.length&&(_=e,M=t,k=r,w=new c(u,{posAxis:M,sepNegVal:!1,overlapNoMerge:!(A=s).norm}),p(_,M,w,A),function(e,t){for(var r=e.traces,a=0;a<r.length;a++){var n=r[a],l=n[0].trace,o=n[0].t.offsetindex;if(void 0===l.base)for(var s=new c([n],{posAxis:t,sepNegVal:!0,overlapNoMerge:!0}),f=0;f<n.length;f++){var h=n[f];if(h.p!==i){var p=s.put(h.p,o,h.b+h.s);p&&(h.b=p)}}}}(w,M),A.norm?(g(w),d(k,w,A)):v(k,w)),f.length&&h(e,t,r,f,s);break;case"stack":case"relative":for(y=0,f=[],u=[];y<l.length;y++)void 0===(m=l[y])[0].trace.base?u.push(m):f.push(m);(function(e){var t,r,n,i,l,o,s;if(!(e.length<2)){for(t=0;t<e.length&&void 0===(l=(n=e[t][0].trace).marker?n.marker.cornerradius:void 0);t++);if(void 0!==l)for(t=0,o=a(l)?+l:+l.slice(0,-1),s=a(l)?"px":"%";t<e.length;t++)(i=e[t][0].t).cornerradiusvalue=o,i.cornerradiusform=s}})(u),u.length&&function(e,t,r,a,n){var l=new c(a,{posAxis:t,sepNegVal:"relative"===n.mode,overlapNoMerge:!(n.norm||"stack"===n.mode||"relative"===n.mode)});p(e,t,l,n),function(e,t,r){var a=x(e),n=t.traces;for(h=0;h<n.length;h++)if("funnel"===(c=(s=n[h])[0].trace).type)for(p=0,v=s[0].t.offsetindex;p<s.length;p++)(u=s[p]).s!==i&&t.put(u.p,v,-.5*u.s);for(h=0;h<n.length;h++){f="funnel"===(c=(s=n[h])[0].trace).type,v="barpolar"===c.type?0:s[0].t.offsetindex;var l=[];for(p=0;p<s.length;p++)if((u=s[p]).s!==i){var s,c,f,h,p,u,v,g=f?u.s:u.s+u.b,d=t.put(u.p,v,g),y=d+g;u.b=d,u[a]=y,!r.norm&&(l.push(y),u.hasB&&l.push(d))}r.norm||(c._extremes[e._id]=o.findExtremes(e,l,{tozero:!0,padded:!0}))}}(r,l,n);for(var s=0;s<a.length;s++)for(var f=a[s],h=f[0].t.offsetindex,u=0;u<f.length;u++){var v=f[u];v.s!==i&&v.b+v.s===l.get(v.p,h,v.s)&&(v._outmost=!0)}n.norm&&d(r,l,n)}(e,t,r,u,s),f.length&&h(e,t,r,f,s)}(function(e){var t,r,n,i,l,o,s;for(t=0;t<e.length;t++)n=(r=e[t])[0].trace,void 0===(i=r[0].t).cornerradiusvalue&&void 0!==(l=n.marker?n.marker.cornerradius:void 0)&&(o=a(l)?+l:+l.slice(0,-1),s=a(l)?"px":"%",i.cornerradiusvalue=o,i.cornerradiusform=s)})(l),function(e,t){var r,i,l,o=x(t),s={},c=1/0,f=-1/0;for(r=0;r<e.length;r++)for(i=0,l=e[r];i<l.length;i++){var h=l[i].p;a(h)&&(c=Math.min(c,h),f=Math.max(f,h))}var p=1e4/(f-c),u=s.round=function(e){return String(Math.round(p*(e-c)))},v={},g={},d=e.some(function(e){var t=e[0].trace;return"marker"in t&&t.marker.cornerradius});for(r=0;r<e.length;r++){(l=e[r])[0].t.extents=s;var y=l[0].t.poffset,m=n(y);for(i=0;i<l.length;i++){var b=l[i],_=b[o]-b.w/2;if(a(_)){var M=b[o]+b.w/2,k=u(b.p);s[k]?s[k]=[Math.min(_,s[k][0]),Math.max(M,s[k][1])]:s[k]=[_,M]}if(b.p0=b.p+(m?y[i]:y),b.p1=b.p0+b.w,b.s0=b.b,b.s1=b.s0+b.s,d){var A=Math.min(b.s0,b.s1)||0,w=Math.max(b.s0,b.s1)||0,S=b[o];v[S]=S in v?Math.min(v[S],A):A,g[S]=S in g?Math.max(g[S],w):w}}}d&&function(e,t,r,a){for(var n=x(a),i=0;i<e.length;i++)for(var l=e[i],o=0;o<l.length;o++){var s=l[o],c=s[n];s._sMin=t[c],s._sMax=r[c]}}(e,v,g,t)}(l,t)}}function h(e,t,r,a,n){for(var i=0;i<a.length;i++){var l=new c([a[i]],{posAxis:t,sepNegVal:!1,overlapNoMerge:!n.norm});p(e,t,l,n),n.norm?(g(l),d(r,l,n)):v(r,l)}}function p(e,t,r,i){var l,o,c,f,h=e._fullLayout,p=r.positions,v=r.distinctPositions,g=r.minDiff,d=r.traces,y=d.length,m=p.length!==v.length,b=g*(1-i.gap);if("angularaxis"===t._id)c=-(o=(l=b)*(1-(i.groupgap||0)))/2;else{var _=s(h,t._id)+d[0][0].trace.orientation;f=h._alignmentOpts[_]||{}}for(var M=0;M<y;M++){var k=d[M],A=k[0].trace;if("angularaxis"!==t._id){var w=Object.keys((f[A.alignmentgroup]||{}).offsetGroups||{}).length;o=(l=w?b/w:m?b/y:b)*(1-(i.groupgap||0)),c=w?((2*A._offsetIndex+1-w)*l-o)/2:m?((2*M+1-y)*l-o)/2:-o/2}var S=k[0].t;S.barwidth=o,S.offsetindex=A._offsetIndex||0,S.poffset=c,S.bargroupwidth=b,S.bardelta=g}r.binWidth=d[0][0].t.barwidth/100,function(e){var t=e.traces;for(r=0;r<t.length;r++){var r,i,l,o=t[r],s=o[0],c=s.trace,f=s.t,h=c._offset||c.offset,p=f.poffset;if(n(h)){for(i=0,l=Array.prototype.slice.call(h,0,o.length);i<l.length;i++)a(l[i])||(l[i]=p);for(i=l.length;i<o.length;i++)l.push(p);f.poffset=l}else void 0!==h&&(f.poffset=h);var u=c._width||c.width,v=f.barwidth;if(n(u)){var g=Array.prototype.slice.call(u,0,o.length);for(i=0;i<g.length;i++)a(g[i])||(g[i]=v);for(i=g.length;i<o.length;i++)g.push(v);if(f.barwidth=g,void 0===h){for(i=0,l=[];i<o.length;i++)l.push(p+(v-g[i])/2);f.poffset=l}}else void 0!==u&&(f.barwidth=u,void 0===h&&(f.poffset=p+(v-u)/2))}}(r),function(e,t){for(var r=t.traces,a=x(e),i=0;i<r.length;i++)for(var l=r[i],o=l[0].t,s=o.poffset,c=n(s),f=o.barwidth,h=n(f),p=0;p<l.length;p++){var u=l[p],v=u.w=h?f[p]:f;void 0===u.p&&(u.p=u[a],u["orig_"+a]=u[a]);var g=(c?s[p]:s)+v/2;u[a]=u.p+g}}(t,r),"angularaxis"===t._id?u(t,r):u(t,r,m)}function u(e,t,r){var a=t.traces,i=t.minDiff/2;o.minDtick(e,t.minDiff,t.distinctPositions[0],r);for(var l=0;l<a.length;l++){var s,c,f,h,p=a[l],u=p[0],v=u.trace,g=[];for(h=0;h<p.length;h++)c=(s=p[h]).p-i,f=s.p+i,g.push(c,f);if(v.width||v.offset){var d=u.t,x=d.poffset,y=d.barwidth,m=n(x),b=n(y);for(h=0;h<p.length;h++){s=p[h];var _=m?x[h]:x,M=b?y[h]:y;f=(c=s.p+_)+M,g.push(c,f)}}v._extremes[e._id]=o.findExtremes(e,g,{padded:!1})}}function v(e,t){for(var r=t.traces,a=x(e),n=0;n<r.length;n++){for(var i=r[n],l=i[0].trace,s="scatter"===l.type,c="v"===l.orientation,f=[],h=!1,p=0;p<i.length;p++){var u=i[p],v=s?0:u.b,g=s?c?u.y:u.x:v+u.s;u[a]=g,f.push(g),u.hasB&&f.push(v),u.hasB&&u.b||(h=!0)}l._extremes[e._id]=o.findExtremes(e,f,{tozero:h,padded:!0})}}function g(e){for(var t=e.traces,r=0;r<t.length;r++)for(var a=t[r],n=a[0].t.offsetindex,l=0;l<a.length;l++){var o=a[l];o.s!==i&&e.put(o.p,n,o.b+o.s)}}function d(e,t,r){var n=t.traces,l=x(e),s="fraction"===r.norm?1:100,c=s/1e9,f=e.l2c(e.c2l(0)),h="stack"===r.mode?s:f;function p(t){return a(e.c2l(t))&&(t<f-c||t>h+c||!a(f))}for(var u=0;u<n.length;u++){for(var v=n[u],g=v[0].t.offsetindex,d=v[0].trace,y=[],m=!1,b=!1,_=0;_<v.length;_++){var M=v[_];if(M.s!==i){var k=Math.abs(s/t.get(M.p,g,M.s));M.b*=k,M.s*=k;var A=M.b,w=A+M.s;M[l]=w,y.push(w),b=b||p(w),M.hasB&&(y.push(A),b=b||p(A)),M.hasB&&M.b||(m=!0)}}d._extremes[e._id]=o.findExtremes(e,y,{tozero:m,padded:b})}}function x(e){return e._id.charAt(0)}e.exports={crossTraceCalc:function(e,t){for(var r=t.xaxis,a=t.yaxis,n=e._fullLayout,i=e._fullData,o=e.calcdata,s=[],c=[],h=0;h<i.length;h++){var p=i[h];if(!0===p.visible&&l.traceIs(p,"bar")&&p.xaxis===r._id&&p.yaxis===a._id&&("h"===p.orientation?s.push(o[h]):c.push(o[h]),p._computePh))for(var u=e.calcdata[h],v=0;v<u.length;v++)"function"==typeof u[v].ph0&&(u[v].ph0=u[v].ph0()),"function"==typeof u[v].ph1&&(u[v].ph1=u[v].ph1())}var g={xCat:"category"===r.type||"multicategory"===r.type,yCat:"category"===a.type||"multicategory"===a.type,mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap};f(e,r,a,c,g),f(e,a,r,s,g)},setGroupPositions:f}},45344:(e,t,r)=>{var a=r(11470),n=r(30649),i=r(23247),l=r(14235),o=r(55189),s=r(90572),c=r(20142),f=r(87929),h=r(8863),p=r(60871),u=r(13569),v=r(50512),g=r(59493),d=r(11470).coercePattern;e.exports=function(e,t,r,x){function y(r,n){return a.coerce(e,t,i,r,n)}var m=s(e,t,x,y);if(m||(t.visible=!1),t.visible){c(e,t,x,y),y("xhoverformat"),y("yhoverformat"),y("zorder");var b=f(e,t,x,y);"group"===x.scattermode&&void 0===t.orientation&&y("orientation","v");var _=!b&&m<l.PTS_LINESONLY?"lines+markers":"lines";y("text"),y("hovertext"),y("mode",_),o.hasMarkers(t)&&h(e,t,r,x,y,{gradient:!0}),o.hasLines(t)&&(p(e,t,r,x,y,{backoff:!0}),u(e,t,y),y("connectgaps"),y("line.simplify")),o.hasText(t)&&(y("texttemplate"),v(e,t,x,y));var M=[];(o.hasMarkers(t)||o.hasText(t))&&(y("cliponaxis"),y("marker.maxdisplayed"),M.push("points")),y("fill",b?b.fillDflt:"none"),"none"!==t.fill&&(g(e,t,r,y,{moduleHasFillgradient:!0}),o.hasLines(t)||u(e,t,y),d(y,"fillpattern",t.fillcolor,!1));var k=(t.line||{}).color,A=(t.marker||{}).color;("tonext"===t.fill||"toself"===t.fill)&&M.push("fills"),y("hoveron",M.join("+")||"points"),"fills"!==t.hoveron&&y("hovertemplate");var w=n.getComponentMethod("errorbars","supplyDefaults");w(e,t,k||A||r,{axis:"y"}),w(e,t,k||A||r,{axis:"x",inherit:"y"}),a.coerceSelectionMarkerOpacity(t,y)}}},72883:(e,t,r)=>{var a=r(11470),n=r(15500);e.exports=function(e,t){var r,i="group"===t.barmode;"group"===t.scattermode&&(r=i?t.bargap:.2,a.coerce(e,t,n,"scattergap",r))}},75094:(e,t,r)=>{var a=r(76588),n=r(91926),i=n.BADNUM,l=n.LOG_CLIP,o=l+.5,s=l-.5,c=r(11470),f=c.segmentsIntersect,h=c.constrain,p=r(14235);e.exports=function(e,t){var r,n,l,u,v,g,d,x,y,m,b,_,M,k,A,w,S,L,P,D,E,T,C,N,O,F=t.trace||{},I=t.xaxis,B=t.yaxis,G="log"===I.type,V="log"===B.type,z=I._length,j=B._length,R=t.backoff,Z=F.marker,U=t.connectGaps,W=t.baseTolerance,q=t.shape,H="linear"===q,K=F.fill&&"none"!==F.fill,Y=[],J=p.minTolerance,Q=e.length,X=Array(Q),$=0;function ee(r){var a=e[r];if(!a)return!1;var n=t.linearized?I.l2p(a.x):I.c2p(a.x),l=t.linearized?B.l2p(a.y):B.c2p(a.y);if(n===i){if(G&&(n=I.c2p(a.x,!0)),n===i)return!1;V&&l===i&&(n*=Math.abs(I._m*j*(I._m>0?o:s)/(B._m*z*(B._m>0?o:s)))),n*=1e3}if(l===i){if(V&&(l=B.c2p(a.y,!0)),l===i)return!1;l*=1e3}return[n,l]}function et(e,t,r,a){var n=r-e,i=a-t,l=.5-e,o=.5-t,s=n*n+i*i,c=n*l+i*o;if(c>0&&c<s){var f=l*i-o*n;if(f*f<s)return!0}}function er(e,t){var r=e[0]/z,a=e[1]/j,n=Math.max(0,-r,r-1,-a,a-1);return n&&void 0!==S&&et(r,a,S,L)&&(n=0),n&&t&&et(r,a,t[0]/z,t[1]/j)&&(n=0),(1+p.toleranceGrowth*n)*W}function ea(e,t){var r=e[0]-t[0],a=e[1]-t[1];return Math.sqrt(r*r+a*a)}var en=p.maxScreensAway,ei=-z*en,el=z*(1+en),eo=-j*en,es=j*(1+en),ec=[[ei,eo,el,eo],[el,eo,el,es],[el,es,ei,es],[ei,es,ei,eo]];function ef(e){if(e[0]<ei||e[0]>el||e[1]<eo||e[1]>es)return[h(e[0],ei,el),h(e[1],eo,es)]}function eh(e,t){if(e[0]===t[0]&&(e[0]===ei||e[0]===el)||e[1]===t[1]&&(e[1]===eo||e[1]===es))return!0}function ep(e,t,r){return function(a,n){var i,l=ef(a),o=ef(n),s=[];if(l&&o&&eh(l,o))return s;l&&s.push(l),o&&s.push(o);var f=2*c.constrain((a[e]+n[e])/2,t,r)-((l||a)[e]+(o||n)[e]);return f&&(i=l&&o?f>0==l[e]>o[e]?l:o:l||o,i[e]+=f),s}}function eu(e){var t=e[0],r=e[1],a=t===X[$-1][0],n=r===X[$-1][1];if(!a||!n){if($>1){var i=t===X[$-2][0],l=r===X[$-2][1];a&&(t===ei||t===el)&&i?l?$--:X[$-1]=e:n&&(r===eo||r===es)&&l?i?$--:X[$-1]=e:X[$++]=e}else X[$++]=e}}function ev(e){X[$-1][0]!==e[0]&&X[$-1][1]!==e[1]&&eu([E,T]),eu(e),C=null,E=T=0}"linear"===q||"spline"===q?O=function(e,t){for(var r=[],a=0,n=0;n<4;n++){var i=ec[n],l=f(e[0],e[1],t[0],t[1],i[0],i[1],i[2],i[3]);l&&(!a||Math.abs(l.x-r[0][0])>1||Math.abs(l.y-r[0][1])>1)&&(l=[l.x,l.y],a&&ea(l,e)<ea(r[0],e)?r.unshift(l):r.push(l),a++)}return r}:"hv"===q||"vh"===q?O=function(e,t){var r=[],a=ef(e),n=ef(t);return a&&n&&eh(a,n)||(a&&r.push(a),n&&r.push(n)),r}:"hvh"===q?O=ep(0,ei,el):"vhv"===q&&(O=ep(1,eo,es));var eg=c.isArrayOrTypedArray(Z);function ed(t){if(t&&R&&(t.i=r,t.d=e,t.trace=F,t.marker=eg?Z[t.i]:Z,t.backoff=R),S=t[0]/z,L=t[1]/j,P=t[0]<ei?ei:t[0]>el?el:0,D=t[1]<eo?eo:t[1]>es?es:0,P||D){if($){if(C){var a,n,i,l=O(C,t);l.length>1&&(ev(l[0]),X[$++]=l[1])}else N=O(X[$-1],t)[0],X[$++]=N}else X[$++]=[P||t[0],D||t[1]];var o=X[$-1];P&&D&&(o[0]!==P||o[1]!==D)?(C&&(E!==P&&T!==D?E&&T?eu((a=C,n=t[0]-a[0],i=(t[1]-a[1])/n,(a[1]*t[0]-t[1]*a[0])/n>0?[i>0?ei:el,es]:[i>0?el:ei,eo])):eu([E||P,T||D]):E&&T&&eu([E,T])),eu([P,D])):E-P&&T-D&&eu([P||E,D||T]),C=t,E=P,T=D}else C&&ev(O(C,t)[0]),X[$++]=t}for(r=0;r<Q;r++)if(n=ee(r)){for($=0,C=null,ed(n),r++;r<Q;r++){if(!(u=ee(r))){if(U)continue;break}if(!H||!t.simplify){ed(u);continue}var ex=ee(r+1);if(m=ea(u,n),!(!(K&&(0===$||$===Q-1))&&m<er(u,ex)*J)){for(x=[(u[0]-n[0])/m,(u[1]-n[1])/m],v=n,b=m,_=k=A=0,d=!1,l=u,r++;r<e.length;r++){if(g=ex,ex=ee(r+1),!g){if(U)continue;break}if(k=Math.min(k,w=(y=[g[0]-n[0],g[1]-n[1]])[0]*x[1]-y[1]*x[0]),(A=Math.max(A,w))-k>er(g,ex))break;l=g,(M=y[0]*x[0]+y[1]*x[1])>b?(b=M,u=g,d=!1):M<_&&(_=M,v=g,d=!0)}if(d?(ed(u),l!==v&&ed(v)):(v!==n&&ed(v),l!==u&&ed(u)),ed(l),r>=e.length||!g)break;ed(g),n=g}}C&&eu([E||C[0],T||C[1]]),Y.push(X.slice(0,$))}var ey=q.slice(q.length-1);if(R&&"h"!==ey&&"v"!==ey){for(var em=!1,eb=-1,e_=[],eM=0;eM<Y.length;eM++)for(var ek=0;ek<Y[eM].length-1;ek++){var eA=Y[eM][ek],ew=Y[eM][ek+1],eS=a.applyBackoff(ew,eA);(eS[0]!==ew[0]||eS[1]!==ew[1])&&(em=!0),e_[eb+1]||(e_[++eb]=[eA,[eS[0],eS[1]]])}return em?e_:Y}return Y}},82651:(e,t,r)=>{e.exports=n;var a=r(11470).distinctVals;function n(e,t){this.traces=e,this.sepNegVal=t.sepNegVal,this.overlapNoMerge=t.overlapNoMerge;for(var r=1/0,n=t.posAxis._id.charAt(0),i=[],l=0;l<e.length;l++){for(var o=e[l],s=0;s<o.length;s++){var c=o[s],f=c.p;void 0===f&&(f=c[n]),void 0!==f&&i.push(f)}o[0]&&o[0].width1&&(r=Math.min(o[0].width1,r))}this.positions=i;var h=a(i);this.distinctPositions=h.vals,1===h.vals.length&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(h.minDiff,r);var p=(t.posAxis||{}).type;("category"===p||"multicategory"===p)&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}n.prototype.put=function(e,t,r){var a=this.getLabel(e,t,r),n=this.bins[a]||0;return this.bins[a]=n+r,n},n.prototype.get=function(e,t,r){var a=this.getLabel(e,t,r);return this.bins[a]||0},n.prototype.getLabel=function(e,t,r){return(r<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?e:Math.round(e/this.binWidth))+"g"+t}},87929:e=>{var t=["orientation","groupnorm","stackgaps"];e.exports=function(e,r,a,n){var i=a._scatterStackOpts,l=n("stackgroup");if(l){var o=r.xaxis+r.yaxis,s=i[o];s||(s=i[o]={});var c=s[l],f=!1;c?c.traces.push(r):(c=s[l]={traceIndices:[],traces:[r]},f=!0);for(var h={orientation:r.x&&!r.y?"h":"v"},p=0;p<t.length;p++){var u=t[p],v=u+"Found";if(!c[v]){var g=void 0!==e[u],d="orientation"===u;if((g||f)&&(c[u]=n(u,h[u]),d&&(c.fillDflt="h"===c[u]?"tonextx":"tonexty"),g&&(c[v]=!0,!f&&(delete c.traces[0][u],d))))for(var x=0;x<c.traces.length-1;x++){var y=c.traces[x];y._input.fill!==y.fill&&(y.fill=c.fillDflt)}}}return c}}},91321:(e,t,r)=>{var a=r(27125),n=r(30649),i=r(11470),l=i.ensureSingle,o=i.identity,s=r(76588),c=r(55189),f=r(75094),h=r(94593),p=r(38316).tester;function u(e,t,r,h,u,v,g){var d=e._context.staticPlot;!function(e,t,r,n,l){var o=r.xaxis,s=r.yaxis,f=a.extent(i.simpleMap(o.range,o.r2c)),h=a.extent(i.simpleMap(s.range,s.r2c)),p=n[0].trace;if(c.hasMarkers(p)){var u=p.marker.maxdisplayed;if(0!==u){var v=n.filter(function(e){return e.x>=f[0]&&e.x<=f[1]&&e.y>=h[0]&&e.y<=h[1]}),g=Math.ceil(v.length/u),d=0;l.forEach(function(e,r){var a=e[0].trace;c.hasMarkers(a)&&a.marker.maxdisplayed>0&&r<t&&d++});var x=Math.round(d*g/3+Math.floor(d/3)*g/7.1);n.forEach(function(e){delete e.vis}),v.forEach(function(e,t){0===Math.round((t+x)%g)&&(e.vis=!0)})}}}(0,t,r,h,u);var x=!!g&&g.duration>0;function y(e){return x?e.transition():e}var m=r.xaxis,b=r.yaxis,_=h[0].trace,M=_.line,k=a.select(v),A=l(k,"g","errorbars"),w=l(k,"g","lines"),S=l(k,"g","points"),L=l(k,"g","text");if(n.getComponentMethod("errorbars","plot")(e,A,r,g),!0===_.visible){y(k).style("opacity",_.opacity);var P=_.fill.charAt(_.fill.length-1);"x"!==P&&"y"!==P&&(P=""),"y"===P?(U=1,W=b.c2p(0,!0)):"x"===P&&(U=0,W=m.c2p(0,!0)),h[0][r.isRangePlot?"nodeRangePlot3":"node3"]=k;var D="",E=[],T=_._prevtrace,C=null,N=null;T&&(D=T._prevRevpath||"",Z=T._nextFill,E=T._ownPolygons,C=T._fillsegments,N=T._fillElement);var O="",F="",I=[];_._polygons=[];var B=[],G=[],V=i.noop;if(R=_._ownFill,c.hasLines(_)||"none"!==_.fill){Z&&Z.datum(h),-1!==["hv","vh","hvh","vhv"].indexOf(M.shape)?(K=s.steps(M.shape),Y=s.steps(M.shape.split("").reverse().join(""))):K=Y="spline"===M.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?s.smoothclosed(e.slice(1),M.smoothing):s.smoothopen(e,M.smoothing)}:function(e){return"M"+e.join("L")},B=Array((G=f(h,{xaxis:m,yaxis:b,trace:_,connectGaps:_.connectgaps,baseTolerance:Math.max(M.width||1,3)/4,shape:M.shape,backoff:M.backoff,simplify:M.simplify,fill:_.fill})).length);var z=0;for(j=0;j<G.length;j++){var j,R,Z,U,W,q,H,K,Y,J,Q,X,$,ee=G[j];$&&P?$.push.apply($,ee):($=ee.slice(),B[z]=$,z++)}_._fillElement=null,_._fillExclusionElement=N,_._fillsegments=B.slice(0,z),B=_._fillsegments,G.length&&(J=G[0][0].slice(),X=(Q=G[G.length-1])[Q.length-1].slice()),V=function(e){return function(t){if(q=K(t),H=Y(t.reverse()),O?P?(O+="L"+q.substr(1),F=H+"L"+F.substr(1)):(O+="Z"+q,F=H+"Z"+F):(O=q,F=H),c.hasLines(_)){var r=a.select(this);if(r.datum(h),e)y(r.style("opacity",0).attr("d",q).call(s.lineGroupStyle)).style("opacity",1);else{var n=y(r);n.attr("d",q),s.singleLineStyle(h,n)}}}}}var et=w.selectAll(".js-line").data(G);y(et.exit()).style("opacity",0).remove(),et.each(V(!1)),et.enter().append("path").classed("js-line",!0).style("vector-effect",d?"none":"non-scaling-stroke").call(s.lineGroupStyle).each(V(!0)),s.setClipUrl(et,r.layerClipId,e);var er=function(){var e=Array(B.length);for(j=0;j<B.length;j++)e[j]=p(B[j]);return e},ea=function(e){var t,r;if(e&&0!==e.length){for(r=0,t=Array(e.length-1+B.length);r<e.length-1;r++)t[r]=p(e[r]);var a=e[e.length-1].slice();for(a.reverse(),r=0;r<B.length;r++)t[e.length-1+r]=p(B[r].concat(a))}else for(r=0,t=Array(B.length);r<B.length;r++){var n=B[r][0].slice(),i=B[r][B[r].length-1].slice();n[U]=i[U]=W;var l=[i,n].concat(B[r]);t[r]=p(l)}return t};G.length?(R?(R.datum(h),J&&X&&(P?(J[U]=X[U]=W,y(R).attr("d","M"+X+"L"+J+"L"+O.substr(1)).call(s.singleFillStyle,e),I=ea(null)):(y(R).attr("d",O+"Z").call(s.singleFillStyle,e),I=er())),_._polygons=I,_._fillElement=R):Z&&("tonext"===_.fill.substr(0,6)&&O&&D?("tonext"===_.fill?(y(Z).attr("d",O+"Z"+D+"Z").call(s.singleFillStyle,e),_._polygons=(I=er()).concat(E)):(y(Z).attr("d",O+"L"+D.substr(1)+"Z").call(s.singleFillStyle,e),_._polygons=I=ea(C)),_._fillElement=Z):ei(Z)),_._prevRevpath=F):(R?ei(R):Z&&ei(Z),_._prevRevpath=null),_._ownPolygons=I,S.datum(h),L.datum(h),function(t,n,i){var l,f,h,p,u=i[0].trace,v=c.hasMarkers(u),g=c.hasText(u),d=function(e){if(e.ids)return ec}(u),_=ef,M=ef;if(v||g){var k=o,A=u.stackgroup,w=A&&"infer zero"===e._fullLayout._scatterStackOpts[m._id+b._id][A].stackgaps;u.marker.maxdisplayed||u._needsCull?k=w?eo:el:A&&!w&&(k=es),v&&(_=k),g&&(M=k)}var S=(l=t.selectAll("path.point").data(_,d)).enter().append("path").classed("point",!0);x&&S.call(s.pointStyle,u,e).call(s.translatePoints,m,b).style("opacity",0).transition().style("opacity",1),l.order(),v&&(p=s.makePointStyleFns(u)),l.each(function(t){var n=a.select(this),i=y(n);s.translatePoint(t,i,m,b)?(s.singlePointStyle(t,i,u,p,e),r.layerClipId&&s.hideOutsideRangePoint(t,i,m,b,u.xcalendar,u.ycalendar),u.customdata&&n.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):i.remove()}),x?l.exit().transition().style("opacity",0).remove():l.exit().remove(),(l=n.selectAll("g").data(M,d)).enter().append("g").classed("textpoint",!0).append("text"),l.order(),l.each(function(e){var t=a.select(this),n=y(t.select("text"));s.translatePoint(e,n,m,b)?r.layerClipId&&s.hideOutsideRangePoint(e,t,m,b,u.xcalendar,u.ycalendar):t.remove()}),l.selectAll("text").call(s.textPointStyle,u,e).each(function(e){var t=m.c2p(e.x),r=b.c2p(e.y);a.select(this).selectAll("tspan.line").each(function(){y(a.select(this)).attr({x:t,y:r})})}),l.exit().remove()}(S,L,h);var en=!1===_.cliponaxis?null:r.layerClipId;s.setClipUrl(S,en,e),s.setClipUrl(L,en,e)}function ei(e){y(e).attr("d","M0,0Z")}function el(e){return e.filter(function(e){return!e.gap&&e.vis})}function eo(e){return e.filter(function(e){return e.vis})}function es(e){return e.filter(function(e){return!e.gap})}function ec(e){return e.id}function ef(){return!1}}e.exports=function(e,t,r,n,i,c){var f,p,v=!i,g=!!i&&i.duration>0,d=h(e,t,r);(f=n.selectAll("g.trace").data(d,function(e){return e[0].trace.uid})).enter().append("g").attr("class",function(e){return"trace scatter trace"+e[0].trace.uid}).style("stroke-miterlimit",2),f.order(),function(e,t,r){t.each(function(t){var n=l(a.select(this),"g","fills");s.setClipUrl(n,r.layerClipId,e);var i=t[0].trace,c=[];i._ownfill&&c.push("_ownFill"),i._nexttrace&&c.push("_nextFill");var f=n.selectAll("g").data(c,o);f.enter().append("g"),f.exit().each(function(e){i[e]=null}).remove(),f.order().each(function(e){i[e]=l(a.select(this),"path","js-fill")})})}(e,f,t),g?(c&&(p=c()),a.transition().duration(i.duration).ease(i.easing).each("end",function(){p&&p()}).each("interrupt",function(){p&&p()}).each(function(){n.selectAll("g.trace").each(function(r,a){u(e,a,t,r,d,this,i)})})):f.each(function(r,a){u(e,a,t,r,d,this,i)}),v&&f.exit().remove(),n.selectAll("path:not([d])").remove()}},94811:(e,t,r)=>{var a=r(27125),n=r(76588),i=r(30649);function l(e,t,r){n.pointStyle(e.selectAll("path.point"),t,r)}function o(e,t,r){n.textPointStyle(e.selectAll("text"),t,r)}e.exports={style:function(e){var t=a.select(e).selectAll("g.trace.scatter");t.style("opacity",function(e){return e[0].trace.opacity}),t.selectAll("g.points").each(function(t){l(a.select(this),t.trace||t[0].trace,e)}),t.selectAll("g.text").each(function(t){o(a.select(this),t.trace||t[0].trace,e)}),t.selectAll("g.trace path.js-line").call(n.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(n.fillGroupStyle,e,!1),i.getComponentMethod("errorbars","style")(t)},stylePoints:l,styleText:o,styleOnSelect:function(e,t,r){var a=t[0].trace;a.selectedpoints?(n.selectedPointStyle(r.selectAll("path.point"),a),n.selectedTextStyle(r.selectAll("text"),a)):(l(r,a,e),o(r,a,e))}}},94922:(e,t,r)=>{var a=r(55189);e.exports=function(e,t){var r,n,i,l,o=e.cd,s=e.xaxis,c=e.yaxis,f=[],h=o[0].trace;if(!a.hasMarkers(h)&&!a.hasText(h))return[];if(!1===t)for(r=0;r<o.length;r++)o[r].selected=0;else for(r=0;r<o.length;r++)n=o[r],i=s.c2p(n.x),l=c.c2p(n.y),null!==n.i&&t.contains([i,l],!1,r,e)?(f.push({pointNumber:n.i,x:s.c2d(n.x),y:c.c2d(n.y)}),n.selected=1):n.selected=0;return f}}}]);